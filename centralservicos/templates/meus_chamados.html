{% extends super_template %}

{% block content %}

    <div class="search-and-filters">
        {% render_form form %}
    </div>

    <div class="tab-container ajax-rendered" data-tab="todos" data-title="Todos" data-counter="{{ todos_chamados.count }}">
        {% if not request.GET.tab or request.GET.tab == "todos" %}
            {% include 'meus_chamados_tab.html' with chamados=todos_chamados %}
        {% endif %}
    </div>
    <div class="tab-container ajax-rendered" data-tab="ativos" data-title="Ativos" data-counter="{{ chamados_ativos.count }}" data-hide-tab-on-counter-zero="true">
        {% if request.GET.tab == "ativos" %}
            <p class="msg alert"><strong>Aviso:</strong> Chamados com situação "Resolvido", "Fechado" ou "Cancelado" não serão exibidos nesta aba.</p>
            {% include 'meus_chamados_tab.html' with chamados=chamados_ativos %}
        {% endif %}
    </div>
    <div class="tab-container ajax-rendered" data-tab="abertos" data-title="Abertos" data-counter="{{ chamados_abertos.count }}" data-hide-tab-on-counter-zero="true">
        {% if request.GET.tab == "abertos" %}
            {% include 'meus_chamados_tab.html' with chamados=chamados_abertos %}
        {% endif %}
    </div>
    <div class="tab-container ajax-rendered" data-tab="em_atendimento" data-title="Em Atendimento" data-counter="{{ chamados_em_atendimento.count }}" data-hide-tab-on-counter-zero="true">
        {% if request.GET.tab == "em_atendimento" %}
            {% include 'meus_chamados_tab.html' with chamados=chamados_em_atendimento %}
        {% endif %}
    </div>
    <div class="tab-container ajax-rendered" data-tab="reabertos" data-title="Reabertos" data-counter="{{ chamados_reabertos.count }}" data-hide-tab-on-counter-zero="true">
        {% if request.GET.tab == "reabertos" %}
            {% include 'meus_chamados_tab.html' with chamados=chamados_reabertos %}
        {% endif %}
    </div>
    <div class="tab-container ajax-rendered"  data-tab="suspensos" data-title="Suspensos" data-counter="{{ chamados_suspensos.count }}" data-hide-tab-on-counter-zero="true">
        {% if request.GET.tab == "suspensos" %}
            {% include 'meus_chamados_tab.html' with chamados=chamados_suspensos %}
        {% endif %}
    </div>
    <div class="tab-container ajax-rendered" data-tab="resolvidos" data-title="Resolvidos" data-counter="{{ chamados_resolvidos.count }}" data-hide-tab-on-counter-zero="true">
        {% if request.GET.tab == "resolvidos" %}
            {% include 'meus_chamados_tab.html' with chamados=chamados_resolvidos %}
        {% endif %}
    </div>
    <div class="tab-container ajax-rendered" data-tab="fechados" data-title="Fechados" data-counter="{{ chamados_fechados.count }}" data-hide-tab-on-counter-zero="true">
        {% if request.GET.tab == "fechados" %}
            {% include 'meus_chamados_tab.html' with chamados=chamados_fechados %}
        {% endif %}
    </div>
    <div class="tab-container ajax-rendered" data-tab="cancelados" data-title="Cancelados" data-counter="{{ chamados_cancelados.count }}" data-hide-tab-on-counter-zero="true">
        {% if request.GET.tab == "cancelados" %}
            {% include 'meus_chamados_tab.html' with chamados=chamados_cancelados %}
        {% endif %}
    </div>

{% endblock %}
