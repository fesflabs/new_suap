# -*- coding: utf-8 -*-
# Generated by Django 1.11.23 on 2019-08-14 15:05


from django.db import migrations, models
import django.db.models.deletion
from django.conf import settings
import djtools.db.models


class Migration(migrations.Migration):

    initial = True

    dependencies = [('edu', '0002_auto_20190814_1454'), ('comum', '0002_auto_20190814_1443')]

    operations = [
        migrations.CreateModel(
            name='AtividadeDocente',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('descricao', djtools.db.models.CharFieldPlus(max_length=60, verbose_name='Descrição')),
                (
                    'periodicidade',
                    djtools.db.models.CharFieldPlus(
                        choices=[['Semestral', 'Semestral'], ['Eventual', 'Eventual']], default='Semestral', max_length=255, verbose_name='Periodicidade'
                    ),
                ),
                ('ch_aula', models.PositiveIntegerField(help_text='Caga-horária semanal prevista na normativa', verbose_name='Carga-Horária')),
                (
                    'ch_aula_efetiva',
                    djtools.db.models.DecimalFieldPlus(blank=True, decimal_places=2, help_text='C.H. semanal efetiva', max_digits=12, null=True, verbose_name='Carga-Horária'),
                ),
                ('qtd_dias', models.IntegerField(blank=True, null=True, verbose_name='Quantidade de Dias')),
                (
                    'comprovante',
                    djtools.db.models.FileFieldPlus(
                        blank=True, help_text='Arquivo nos formatos PDF, JPG/JPEG ou PNG', null=True, upload_to='edu/atividades_docente/', verbose_name='Comprovante'
                    ),
                ),
                ('deferida', models.NullBooleanField(default=None, verbose_name='Deferida')),
            ],
            options={
                'verbose_name': 'Atividade Docente',
                'verbose_name_plural': 'Atividades Docentes',
                'permissions': (('deferir_atividadedocente', 'Pode deferir Atividade Docente'),),
            },
        ),
        migrations.CreateModel(
            name='ConfiguracaoAtividadeDocente',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('periodo_letivo_inicio', models.PositiveIntegerField(choices=settings.PERIODO_LETIVO_CHOICES, verbose_name='Período Letivo')),
                ('ha_semanal', models.PositiveIntegerField(verbose_name='H/A Semanal')),
                ('ha_minima_semanal', models.PositiveIntegerField(verbose_name='H/A Mínima Semanal')),
                ('percentual_reducao_20h', models.PositiveIntegerField(verbose_name='% redução - 20H')),
                ('percentual_reducao_cd1', models.PositiveIntegerField(verbose_name='% redução - CD1')),
                ('percentual_reducao_cd2', models.PositiveIntegerField(verbose_name='% redução - CD2')),
                ('percentual_reducao_cd3', models.PositiveIntegerField(verbose_name='% redução - CD3')),
                ('percentual_reducao_cd4', models.PositiveIntegerField(verbose_name='% redução - CD4')),
                ('percentual_reducao_fg1', models.PositiveIntegerField(verbose_name='% redução - FG1/FCC/FUC1')),
                ('percentual_reducao_fg2', models.PositiveIntegerField(verbose_name='% redução - FG2')),
                ('percentual_reducao_fg3', models.PositiveIntegerField(verbose_name='% redução - FG3')),
                ('percentual_reducao_fg4', models.PositiveIntegerField(verbose_name='% redução - FG4')),
                ('percentual_reducao_fa_reitoria', models.PositiveIntegerField(verbose_name='% redução - FA na Reitoria')),
                ('percentual_reducao_fa_campus', models.PositiveIntegerField(verbose_name='% redução - FA nos Campus')),
                ('portaria_normativa', models.FileField(upload_to='edu/configuracao_atividade_docente/', verbose_name='Portaria Normativa')),
                ('ano_letivo_inicio', djtools.db.models.ForeignKeyPlus(on_delete=django.db.models.deletion.CASCADE, to='comum.Ano', verbose_name='Ano Letivo')),
            ],
            options={
                'verbose_name': 'Configuração de Atividade Docente',
                'verbose_name_plural': 'Configurações de Atividade Docente',
                'permissions': (('deferir_configuracaoatividadedocente', 'Pode deferir Configuração de Atividade Docente'),),
            },
        ),
        migrations.CreateModel(
            name='HorarioAulaAtividadeDocente',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('dia_semana', models.PositiveIntegerField(choices=[[1, 'Segunda'], [2, 'Terça'], [3, 'Quarta'], [4, 'Quinta'], [5, 'Sexta'], [6, 'Sábado'], [7, 'Domingo']])),
                ('atividade_docente', djtools.db.models.ForeignKeyPlus(on_delete=django.db.models.deletion.CASCADE, to='pit_rit.AtividadeDocente')),
                ('horario_aula', djtools.db.models.ForeignKeyPlus(on_delete=django.db.models.deletion.CASCADE, to='edu.HorarioAula')),
            ],
            options={'verbose_name': 'Horário de Aula na Atividade Docente', 'verbose_name_plural': 'Horários das Aulas na Atividade Docente'},
        ),
        migrations.CreateModel(
            name='PlanoIndividualTrabalho',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('periodo_letivo', models.PositiveIntegerField(db_index=True, verbose_name='Período Letivo')),
                ('relatos_ensino', models.TextField(blank=True, null=True, verbose_name='Relatos do Ensino')),
                ('relatos_pesquisa', models.TextField(blank=True, null=True, verbose_name='Relatos da Pesquisa')),
                ('relatos_extensao', models.TextField(blank=True, null=True, verbose_name='Relatos da Extensão')),
                ('relatos_gestao', models.TextField(blank=True, null=True, verbose_name='Relatos da Gestão')),
                ('deferida', models.NullBooleanField(default=None, verbose_name='Publicada')),
                ('ano_letivo', djtools.db.models.ForeignKeyPlus(on_delete=django.db.models.deletion.CASCADE, to='comum.Ano', verbose_name='Ano Letivo')),
                ('configuracao', djtools.db.models.ForeignKeyPlus(on_delete=django.db.models.deletion.CASCADE, to='pit_rit.ConfiguracaoAtividadeDocente')),
                ('professor', djtools.db.models.ForeignKeyPlus(on_delete=django.db.models.deletion.CASCADE, to='edu.Professor')),
            ],
            options={'verbose_name': 'Plano Individual de Trabalho', 'verbose_name_plural': 'Planos Individuais de Trabalho'},
        ),
        migrations.CreateModel(
            name='TipoAtividadeDocente',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('descricao', djtools.db.models.CharFieldPlus(max_length=255, unique=True, verbose_name='Descrição')),
                ('ch_minima_semanal', models.PositiveIntegerField(verbose_name='CH Min. Semanal')),
                ('ch_maxima_semanal', models.PositiveIntegerField(verbose_name='CH Máx. Semanal')),
                ('categoria', models.PositiveIntegerField(choices=[[0, 'Ensino'], [1, 'Pesquisa'], [2, 'Extensão'], [3, 'Gestão'], [4, 'Cargo/Função']])),
                ('exige_documentacao', models.BooleanField(default=False, verbose_name='Exige Documentação')),
                ('exige_horario', models.BooleanField(default=True, verbose_name='Exige Horário')),
                ('ativo', models.BooleanField(default=True, verbose_name='Ativo')),
            ],
            options={'verbose_name': 'Tipo de Atividade Docente', 'verbose_name_plural': 'Tipos de Atividade Docente'},
        ),
        migrations.AddField(
            model_name='atividadedocente',
            name='pit',
            field=djtools.db.models.ForeignKeyPlus(null=True, on_delete=django.db.models.deletion.CASCADE, to='pit_rit.PlanoIndividualTrabalho'),
        ),
        migrations.AddField(
            model_name='atividadedocente', name='sala', field=djtools.db.models.ForeignKeyPlus(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='comum.Sala')
        ),
        migrations.AddField(
            model_name='atividadedocente',
            name='tipo_atividade',
            field=djtools.db.models.ForeignKeyPlus(on_delete=django.db.models.deletion.CASCADE, to='pit_rit.TipoAtividadeDocente'),
        ),
    ]
