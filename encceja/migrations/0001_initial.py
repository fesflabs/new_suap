# Generated by Django 1.11.23 on 2019-08-14 14:54


from django.conf import settings
from django.db import migrations, models
import django.db.models.deletion
import djtools.db.models
import djtools.middleware.threadlocals


class Migration(migrations.Migration):

    initial = True

    dependencies = [migrations.swappable_dependency(settings.AUTH_USER_MODEL)]

    operations = [
        migrations.CreateModel(
            name='AreaConhecimento',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nome', djtools.db.models.CharFieldPlus(max_length=255, verbose_name='Nome')),
                ('descricao', models.TextField(help_text='Texto que será impresso no certificado.', verbose_name='Descrição')),
            ],
            options={'verbose_name': 'Áreas de Conhecimento', 'verbose_name_plural': 'Área de Conhecimento'},
        ),
        migrations.CreateModel(
            name='Avaliacao',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                (
                    'tipo',
                    djtools.db.models.CharFieldPlus(
                        choices=[['Enem', 'Enem'], ['Encceja Nacional', 'Encceja Nacional'], ['Encceja Exterior', 'Encceja Exterior']], max_length=255, verbose_name='Tipo'
                    ),
                ),
                ('descricao_edital', models.TextField(verbose_name='Descrição do Edital')),
                ('pontuacao_min_area_conhecimento', djtools.db.models.DecimalFieldPlus(decimal_places=2, max_digits=12, verbose_name='Área de Conhecimento')),
                ('pontuacao_min_redacao', djtools.db.models.DecimalFieldPlus(decimal_places=2, max_digits=12, verbose_name='Redação')),
            ],
            options={'verbose_name': 'Avaliações', 'verbose_name_plural': 'Avaliação'},
        ),
        migrations.CreateModel(
            name='Configuracao',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('descricao', djtools.db.models.CharFieldPlus(max_length=255, verbose_name='Descrição')),
                ('data_primeira_prova', djtools.db.models.DateFieldPlus(null=True, verbose_name='Data de realização da 1ª Prova')),
                (
                    'modelo_certificacao_parcial',
                    djtools.db.models.FileFieldPlus(
                        blank=True,
                        help_text='O arquivo de modelo deve ser uma arquivo .docx. Marcações disponíveis #NOME#, #CPF#, #ANO#, #AREAS#, #AVALIACOES#, #PONTUACAO#,\n                                                       #EDITAIS#, #LEGENDA_EDITAIS#, #CODIGOVERIFICADOR#, #LOCAL#, #DATA#, #AVA_REDACAO#, #EDIT_REDACAO#, #PONT_REDACAO#',
                        null=True,
                        upload_to='encceja/modelos_documento/',
                        verbose_name='Modelo de Certificação Parcial',
                    ),
                ),
                (
                    'modelo_certificacao_completa',
                    djtools.db.models.FileFieldPlus(
                        blank=True,
                        help_text='O arquivo de modelo deve ser uma arquivo .docx. Marcações disponíveis #NOME#, #CPF#, #ANO#, #AREAS#, #AVALIACOES#, #PONTUACAO#,\n                                                       #EDITAIS#, #LEGENDA_EDITAIS#, #CODIGOVERIFICADOR#, #LOCAL#, #DATA#, #AVA_REDACAO#, #EDIT_REDACAO#, #PONT_REDACAO#',
                        null=True,
                        upload_to='encceja/modelos_documento/',
                        verbose_name='Modelo de Certificação Completa',
                    ),
                ),
                ('ativa', models.BooleanField(blank=True, verbose_name='Ativa')),
            ],
            options={'verbose_name': 'Configurações ENCCEJA', 'verbose_name_plural': 'Configuração ENCCEJA'},
        ),
        migrations.CreateModel(
            name='Pontuacao',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('valor', djtools.db.models.DecimalFieldPlus(decimal_places=2, max_digits=12, verbose_name='Pontuação')),
            ],
            options={'verbose_name': 'Pontuações', 'verbose_name_plural': 'Pontuação'},
        ),
        migrations.CreateModel(
            name='Solicitacao',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('inscricao', djtools.db.models.CharFieldPlus(blank=True, max_length=255, null=True, verbose_name='Inscrição')),
                ('nome', djtools.db.models.CharFieldPlus(max_length=255, verbose_name='Nome')),
                ('tipo_certificado', models.IntegerField(choices=[[1, 'Completo'], [2, 'Parcial']], null=True, verbose_name='Tipo de Certificado')),
                ('cpf', djtools.db.models.BrCpfField(max_length=14, verbose_name='CPF')),
                ('ppl', models.BooleanField(default=False, blank=True, verbose_name='Participante Privado de Liberdade')),
                ('data_nascimento', models.DateField(verbose_name='Dada de Nascimento')),
                ('pontuacao_redacao', djtools.db.models.DecimalFieldPlus(decimal_places=2, max_digits=12, null=True, verbose_name='Pontuação da Redação')),
                ('codigo_verificador', djtools.db.models.CharFieldPlus(max_length=255, null=True, verbose_name='Código Verificador')),
                ('data_emissao', models.DateField(null=True, verbose_name='Data da Emissão')),
                ('atendida', models.BooleanField(default=False, blank=True, verbose_name='Atendida')),
                ('avaliacao_redacao', djtools.db.models.ForeignKeyPlus(on_delete=django.db.models.deletion.CASCADE, to='encceja.Avaliacao', verbose_name='Avaliação')),
                (
                    'cadastrador',
                    djtools.db.models.CurrentUserField(
                        blank=True,
                        default=djtools.middleware.threadlocals.get_user,
                        editable=False,
                        null=True,
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name='solicitacao_cadastrada_set',
                        to=settings.AUTH_USER_MODEL,
                        verbose_name='Cadastrador',
                    ),
                ),
                ('configuracao', djtools.db.models.ForeignKeyPlus(on_delete=django.db.models.deletion.CASCADE, to='encceja.Configuracao', verbose_name='Configuração')),
                (
                    'emissor',
                    djtools.db.models.ForeignKeyPlus(
                        blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='emss_set', to=settings.AUTH_USER_MODEL, verbose_name='Avaliador'
                    ),
                ),
            ],
            options={'verbose_name': 'Solicitação', 'verbose_name_plural': 'Solicitações'},
        ),
    ]
